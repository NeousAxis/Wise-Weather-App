{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///Users/cyrilleger/Wise-Weather-App/src/lib/firebase.ts"],"sourcesContent":["import { initializeApp, getApps } from \"firebase/app\";\nimport { getFirestore } from \"firebase/firestore\";\n\nconst firebaseConfig = {\n    apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n    authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n    projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n    storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n    messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n    appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\n};\n\n// Initialize Firebase\nconst app = getApps().length === 0 ? initializeApp(firebaseConfig) : getApps()[0];\nconst db = getFirestore(app);\n\nexport { db };\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;AAAA;;;AAEA,MAAM,iBAAiB;IACnB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;AACT;AAEA,sBAAsB;AACtB,MAAM,MAAM,IAAA,2KAAO,IAAG,MAAM,KAAK,IAAI,IAAA,iLAAa,EAAC,kBAAkB,IAAA,2KAAO,GAAE,CAAC,EAAE;AACjF,MAAM,KAAK,IAAA,iLAAY,EAAC"}},
    {"offset": {"line": 120, "column": 0}, "map": {"version":3,"sources":["file:///Users/cyrilleger/Wise-Weather-App/src/components/AlertSetupModal.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from 'react';\nimport { useLanguage } from '../context/LanguageContext';\nimport { db } from '../lib/firebase';\nimport { collection, addDoc, serverTimestamp } from 'firebase/firestore';\nimport { Bell, X } from 'lucide-react';\n\ninterface AlertSetupModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n}\n\nconst AlertSetupModal = ({ isOpen, onClose }: AlertSetupModalProps) => {\n    const { t } = useLanguage();\n    const [city, setCity] = useState('');\n    const [submitting, setSubmitting] = useState(false);\n\n    if (!isOpen) return null;\n\n    const handleSave = async (e: React.FormEvent) => {\n        e.preventDefault();\n        if (!city) return;\n\n        setSubmitting(true);\n        try {\n            // Geocode city to get lat/lon\n            const res = await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${city}&count=1&language=en&format=json`);\n            const data = await res.json();\n\n            if (data.results && data.results.length > 0) {\n                const { latitude, longitude, name } = data.results[0];\n                const userId = 'temp-user-id'; // TODO: Replace with real auth\n\n                await addDoc(collection(db, `users/${userId}/alerts`), {\n                    city: name,\n                    location: { latitude, longitude },\n                    condition: 'Rain', // Fixed to Rain as per requirements\n                    createdAt: serverTimestamp(),\n                });\n\n                onClose();\n                alert('Alert set for Rain in ' + name);\n            } else {\n                alert('City not found');\n            }\n        } catch (error) {\n            console.error(\"Error saving alert:\", error);\n        } finally {\n            setSubmitting(false);\n        }\n    };\n\n    return (\n        <div className=\"modal-overlay\">\n            <div className=\"modal-content\">\n                <button className=\"close-btn\" onClick={onClose}><X size={24} /></button>\n                <h2>Set Rain Alert</h2>\n                <form onSubmit={handleSave}>\n                    <div className=\"form-group\">\n                        <label>City</label>\n                        <input\n                            type=\"text\"\n                            value={city}\n                            onChange={(e) => setCity(e.target.value)}\n                            placeholder=\"Enter city name\"\n                            required\n                        />\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Condition</label>\n                        <div className=\"condition-preview\">\n                            <Bell size={20} />\n                            <span>Rain (Fixed)</span>\n                        </div>\n                    </div>\n                    <button type=\"submit\" className=\"submit-btn\" disabled={submitting}>\n                        {submitting ? 'Saving...' : 'Set Alert'}\n                    </button>\n                </form>\n            </div>\n\n            <style jsx>{`\n        .modal-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(0, 0, 0, 0.5);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 100;\n        }\n        .modal-content {\n          background: var(--background);\n          padding: 2rem;\n          border-radius: 1rem;\n          position: relative;\n          width: 90%;\n          max-width: 400px;\n        }\n        .close-btn {\n          position: absolute;\n          top: 1rem;\n          right: 1rem;\n          background: none;\n          border: none;\n          cursor: pointer;\n          color: var(--foreground);\n        }\n        h2 {\n          margin-bottom: 1.5rem;\n          text-align: center;\n        }\n        .form-group {\n          margin-bottom: 1rem;\n        }\n        label {\n          display: block;\n          margin-bottom: 0.5rem;\n          font-weight: bold;\n        }\n        input {\n          width: 100%;\n          padding: 0.75rem;\n          border: 1px solid rgba(128, 128, 128, 0.2);\n          border-radius: 0.5rem;\n          background: var(--background);\n          color: var(--foreground);\n        }\n        .condition-preview {\n          display: flex;\n          align-items: center;\n          gap: 0.5rem;\n          padding: 0.75rem;\n          background: rgba(128, 128, 128, 0.1);\n          border-radius: 0.5rem;\n        }\n        .submit-btn {\n          width: 100%;\n          padding: 1rem;\n          background: var(--primary);\n          color: white;\n          border: none;\n          border-radius: 0.5rem;\n          font-weight: bold;\n          cursor: pointer;\n          margin-top: 1rem;\n        }\n        .submit-btn:disabled {\n          opacity: 0.7;\n          cursor: not-allowed;\n        }\n      `}</style>\n        </div>\n    );\n};\n\nexport default AlertSetupModal;\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AACA;AACA;AAAA;AACA;AAAA;AANA;;;;;;;;AAaA,MAAM,kBAAkB,CAAC,EAAE,MAAM,EAAE,OAAO,EAAwB;IAC9D,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,iJAAW;IACzB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAE7C,IAAI,CAAC,QAAQ,OAAO;IAEpB,MAAM,aAAa,OAAO;QACtB,EAAE,cAAc;QAChB,IAAI,CAAC,MAAM;QAEX,cAAc;QACd,IAAI;YACA,8BAA8B;YAC9B,MAAM,MAAM,MAAM,MAAM,CAAC,oDAAoD,EAAE,KAAK,gCAAgC,CAAC;YACrH,MAAM,OAAO,MAAM,IAAI,IAAI;YAE3B,IAAI,KAAK,OAAO,IAAI,KAAK,OAAO,CAAC,MAAM,GAAG,GAAG;gBACzC,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,KAAK,OAAO,CAAC,EAAE;gBACrD,MAAM,SAAS,gBAAgB,+BAA+B;gBAE9D,MAAM,IAAA,2KAAM,EAAC,IAAA,+KAAU,EAAC,4HAAE,EAAE,CAAC,MAAM,EAAE,OAAO,OAAO,CAAC,GAAG;oBACnD,MAAM;oBACN,UAAU;wBAAE;wBAAU;oBAAU;oBAChC,WAAW;oBACX,WAAW,IAAA,oLAAe;gBAC9B;gBAEA;gBACA,MAAM,2BAA2B;YACrC,OAAO;gBACH,MAAM;YACV;QACJ,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,uBAAuB;QACzC,SAAU;YACN,cAAc;QAClB;IACJ;IAEA,qBACI,8OAAC;kDAAc;;0BACX,8OAAC;0DAAc;;kCACX,8OAAC;wBAA6B,SAAS;kEAArB;kCAA8B,cAAA,8OAAC,iMAAC;4BAAC,MAAM;;;;;;;;;;;kCACzD,8OAAC;;kCAAG;;;;;;kCACJ,8OAAC;wBAAK,UAAU;;;0CACZ,8OAAC;0EAAc;;kDACX,8OAAC;;kDAAM;;;;;;kDACP,8OAAC;wCACG,MAAK;wCACL,OAAO;wCACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;wCACvC,aAAY;wCACZ,QAAQ;;;;;;;;;;;;;0CAGhB,8OAAC;0EAAc;;kDACX,8OAAC;;kDAAM;;;;;;kDACP,8OAAC;kFAAc;;0DACX,8OAAC,0MAAI;gDAAC,MAAM;;;;;;0DACZ,8OAAC;;0DAAK;;;;;;;;;;;;;;;;;;0CAGd,8OAAC;gCAAO,MAAK;gCAAgC,UAAU;0EAAvB;0CAC3B,aAAa,cAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiFpD;uCAEe"}},
    {"offset": {"line": 318, "column": 0}, "map": {"version":3,"sources":["file:///Users/cyrilleger/Wise-Weather-App/src/app/alerts/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from 'react';\nimport AlertSetupModal from '../../components/AlertSetupModal';\n\nconst AlertsPage = () => {\n    const [isModalOpen, setIsModalOpen] = useState(false);\n\n    return (\n        <div className=\"container\" style={{ paddingTop: '2rem' }}>\n            <div className=\"alerts-card\">\n                <h1 style={{ fontSize: '1.75rem', fontWeight: 'bold', marginBottom: '0.5rem' }}>\n                    Create a weather alert\n                </h1>\n                <p style={{ color: '#64748b', marginBottom: '2rem' }}>\n                    Get notifications for specific weather conditions in any city.\n                </p>\n\n                <button\n                    onClick={() => setIsModalOpen(true)}\n                    className=\"btn-primary\"\n                    style={{\n                        width: '100%',\n                        padding: '1rem',\n                        backgroundColor: '#3b82f6',\n                        color: 'white',\n                        border: 'none',\n                        borderRadius: '8px',\n                        fontSize: '1rem',\n                        fontWeight: '600',\n                        cursor: 'pointer'\n                    }}\n                >\n                    Create Alert\n                </button>\n\n                <div style={{ marginTop: '3rem' }}>\n                    <h2 style={{ fontSize: '1.5rem', fontWeight: 'bold', marginBottom: '1rem' }}>\n                        My Alerts\n                    </h2>\n                    <p style={{ color: '#64748b' }}>\n                        You have no saved alerts.\n                    </p>\n                </div>\n            </div>\n\n            <AlertSetupModal\n                isOpen={isModalOpen}\n                onClose={() => setIsModalOpen(false)}\n            />\n\n            <style jsx>{`\n        .alerts-card {\n          background: white;\n          border-radius: 12px;\n          padding: 2rem;\n          box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n        }\n        .btn-primary:hover {\n          background-color: #2563eb;\n        }\n      `}</style>\n        </div>\n    );\n};\n\nexport default AlertsPage;\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AAHA;;;;;AAKA,MAAM,aAAa;IACf,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,qBACI,8OAAC;QAA0B,OAAO;YAAE,YAAY;QAAO;kDAAxC;;0BACX,8OAAC;0DAAc;;kCACX,8OAAC;wBAAG,OAAO;4BAAE,UAAU;4BAAW,YAAY;4BAAQ,cAAc;wBAAS;;kCAAG;;;;;;kCAGhF,8OAAC;wBAAE,OAAO;4BAAE,OAAO;4BAAW,cAAc;wBAAO;;kCAAG;;;;;;kCAItD,8OAAC;wBACG,SAAS,IAAM,eAAe;wBAE9B,OAAO;4BACH,OAAO;4BACP,SAAS;4BACT,iBAAiB;4BACjB,OAAO;4BACP,QAAQ;4BACR,cAAc;4BACd,UAAU;4BACV,YAAY;4BACZ,QAAQ;wBACZ;kEAXU;kCAYb;;;;;;kCAID,8OAAC;wBAAI,OAAO;4BAAE,WAAW;wBAAO;;;0CAC5B,8OAAC;gCAAG,OAAO;oCAAE,UAAU;oCAAU,YAAY;oCAAQ,cAAc;gCAAO;;0CAAG;;;;;;0CAG7E,8OAAC;gCAAE,OAAO;oCAAE,OAAO;gCAAU;;0CAAG;;;;;;;;;;;;;;;;;;0BAMxC,8OAAC,gJAAe;gBACZ,QAAQ;gBACR,SAAS,IAAM,eAAe;;;;;;;;;;;;;;;;AAgB9C;uCAEe"}}]
}