{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/cyrilleger/Wise-Weather-App/src/lib/api.ts"],"sourcesContent":["export interface WeatherData {\n    current: {\n        temperature: number;\n        windSpeed: number;\n        humidity: number;\n        weatherCode: number;\n        isDay: boolean;\n        precipitation: number;\n    };\n    daily: {\n        temperatureMax: number;\n        temperatureMin: number;\n        sunrise: string;\n        sunset: string;\n    };\n    hourly: {\n        time: string[];\n        temperature: number[];\n        weatherCode: number[];\n        precipitationProbability: number[];\n    };\n}\n\nexport async function fetchWeather(lat: number, lon: number): Promise<WeatherData> {\n    const params = new URLSearchParams({\n        latitude: lat.toString(),\n        longitude: lon.toString(),\n        current: 'temperature_2m,relative_humidity_2m,is_day,weather_code,wind_speed_10m,precipitation',\n        hourly: 'temperature_2m,weather_code,precipitation_probability',\n        daily: 'temperature_2m_max,temperature_2m_min,sunrise,sunset',\n        timezone: 'auto',\n        forecast_days: '1',\n        models: 'best_match'\n    });\n\n    const response = await fetch(`https://api.open-meteo.com/v1/forecast?${params.toString()}`);\n\n    if (!response.ok) {\n        throw new Error('Failed to fetch weather data');\n    }\n\n    const data = await response.json();\n\n    return {\n        current: {\n            temperature: data.current.temperature_2m,\n            windSpeed: data.current.wind_speed_10m,\n            humidity: data.current.relative_humidity_2m,\n            weatherCode: data.current.weather_code,\n            isDay: data.current.is_day === 1,\n            precipitation: data.current.precipitation,\n        },\n        daily: {\n            temperatureMax: data.daily.temperature_2m_max[0],\n            temperatureMin: data.daily.temperature_2m_min[0],\n            sunrise: data.daily.sunrise[0],\n            sunset: data.daily.sunset[0],\n        },\n        hourly: {\n            time: data.hourly.time,\n            temperature: data.hourly.temperature_2m,\n            weatherCode: data.hourly.weather_code,\n            precipitationProbability: data.hourly.precipitation_probability,\n        },\n    };\n}\n\nexport const weatherCodeToIcon = (code: number, isDay: boolean = true) => {\n    // Simple mapping, can be expanded\n    if (code === 0) return isDay ? 'Sun' : 'Moon';\n    if (code >= 1 && code <= 3) return isDay ? 'CloudSun' : 'CloudMoon';\n    if (code >= 45 && code <= 48) return 'CloudFog';\n    if (code >= 51 && code <= 67) return 'CloudRain';\n    if (code >= 71 && code <= 77) return 'CloudSnow';\n    if (code >= 80 && code <= 82) return 'CloudRain';\n    if (code >= 95 && code <= 99) return 'CloudLightning';\n    return 'Cloud';\n};\n"],"names":[],"mappings":";;;;;;AAuBO,eAAe,aAAa,GAAW,EAAE,GAAW;IACvD,MAAM,SAAS,IAAI,gBAAgB;QAC/B,UAAU,IAAI,QAAQ;QACtB,WAAW,IAAI,QAAQ;QACvB,SAAS;QACT,QAAQ;QACR,OAAO;QACP,UAAU;QACV,eAAe;QACf,QAAQ;IACZ;IAEA,MAAM,WAAW,MAAM,MAAM,CAAC,uCAAuC,EAAE,OAAO,QAAQ,IAAI;IAE1F,IAAI,CAAC,SAAS,EAAE,EAAE;QACd,MAAM,IAAI,MAAM;IACpB;IAEA,MAAM,OAAO,MAAM,SAAS,IAAI;IAEhC,OAAO;QACH,SAAS;YACL,aAAa,KAAK,OAAO,CAAC,cAAc;YACxC,WAAW,KAAK,OAAO,CAAC,cAAc;YACtC,UAAU,KAAK,OAAO,CAAC,oBAAoB;YAC3C,aAAa,KAAK,OAAO,CAAC,YAAY;YACtC,OAAO,KAAK,OAAO,CAAC,MAAM,KAAK;YAC/B,eAAe,KAAK,OAAO,CAAC,aAAa;QAC7C;QACA,OAAO;YACH,gBAAgB,KAAK,KAAK,CAAC,kBAAkB,CAAC,EAAE;YAChD,gBAAgB,KAAK,KAAK,CAAC,kBAAkB,CAAC,EAAE;YAChD,SAAS,KAAK,KAAK,CAAC,OAAO,CAAC,EAAE;YAC9B,QAAQ,KAAK,KAAK,CAAC,MAAM,CAAC,EAAE;QAChC;QACA,QAAQ;YACJ,MAAM,KAAK,MAAM,CAAC,IAAI;YACtB,aAAa,KAAK,MAAM,CAAC,cAAc;YACvC,aAAa,KAAK,MAAM,CAAC,YAAY;YACrC,0BAA0B,KAAK,MAAM,CAAC,yBAAyB;QACnE;IACJ;AACJ;AAEO,MAAM,oBAAoB,CAAC,MAAc,QAAiB,IAAI;IACjE,kCAAkC;IAClC,IAAI,SAAS,GAAG,OAAO,QAAQ,QAAQ;IACvC,IAAI,QAAQ,KAAK,QAAQ,GAAG,OAAO,QAAQ,aAAa;IACxD,IAAI,QAAQ,MAAM,QAAQ,IAAI,OAAO;IACrC,IAAI,QAAQ,MAAM,QAAQ,IAAI,OAAO;IACrC,IAAI,QAAQ,MAAM,QAAQ,IAAI,OAAO;IACrC,IAAI,QAAQ,MAAM,QAAQ,IAAI,OAAO;IACrC,IAAI,QAAQ,MAAM,QAAQ,IAAI,OAAO;IACrC,OAAO;AACX"}},
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///Users/cyrilleger/Wise-Weather-App/src/components/WeatherCommunityCarousel.tsx"],"sourcesContent":["\"use client\";\n\nimport React from 'react';\nimport { useLanguage } from '../context/LanguageContext';\nimport { useTemperatureUnit } from '../context/TemperatureUnitContext';\nimport { WeatherData, weatherCodeToIcon } from '../lib/api';\nimport { Sun, Cloud, CloudRain, CloudSnow, CloudLightning, Wind, Droplets, Moon, CloudSun, CloudMoon, CloudFog, AlertTriangle, CheckCircle, HelpCircle } from 'lucide-react';\nimport { format, subHours } from 'date-fns';\n\nconst IconMap: Record<string, any> = {\n    Sun, Cloud, CloudRain, CloudSnow, CloudLightning, Wind, Droplets, Moon, CloudSun, CloudMoon, CloudFog\n};\n\ninterface CommunityReport {\n    timestamp: number;\n    condition: string; // e.g., 'Rain', 'Sun'\n    count: number;\n}\n\n// Mock data for community reports\nconst mockReports: Record<string, CommunityReport[]> = {\n    // Keyed by hour timestamp\n};\n\nconst WeatherCommunityCarousel = ({ weather }: { weather: WeatherData }) => {\n    const { t } = useLanguage();\n    const { convertTemp, unit } = useTemperatureUnit();\n\n    // Get last 6 hours\n    const currentHour = new Date().getHours();\n    const pastHours = Array.from({ length: 6 }, (_, i) => currentHour - 5 + i).filter(h => h >= 0);\n\n    // We need to find the index in weather.hourly.time that matches these hours\n    // weather.hourly.time is ISO strings.\n\n    const cards = pastHours.map(hour => {\n        // Find matching index in weather data (assuming weather.hourly.time covers today)\n        // This is a simplification. In real app, match properly by date/time.\n        const index = weather.hourly.time.findIndex(time => new Date(time).getHours() === hour);\n\n        if (index === -1) return null;\n\n        const officialTemp = weather.hourly.temperature[index];\n        const officialCode = weather.hourly.weatherCode[index];\n        const isDay = hour > 6 && hour < 20;\n        const OfficialIcon = IconMap[weatherCodeToIcon(officialCode, isDay)] || Cloud;\n\n        // Mock community data logic\n        // In real app, fetch from Firestore based on time and location\n        const hasReport = Math.random() > 0.3; // 70% chance of report\n        const communityCondition = hasReport ? (Math.random() > 0.5 ? 'Rain' : 'Sun') : null;\n        const CommunityIcon = communityCondition === 'Rain' ? CloudRain : (communityCondition === 'Sun' ? Sun : HelpCircle);\n\n        // Confidence logic\n        const confidence = hasReport ? (Math.random() > 0.5 ? 'High' : 'Low') : 'N/A';\n        const confidenceColor = confidence === 'High' ? 'text-green-500' : (confidence === 'Low' ? 'text-red-500' : 'text-gray-400');\n        const ConfidenceIcon = confidence === 'High' ? CheckCircle : (confidence === 'Low' ? AlertTriangle : HelpCircle);\n\n        return {\n            hour,\n            official: { temp: officialTemp, Icon: OfficialIcon },\n            community: { condition: communityCondition, Icon: CommunityIcon, confidence, confidenceColor, ConfidenceIcon }\n        };\n    }).filter(Boolean);\n\n    return (\n        <div className=\"community-carousel\">\n            <h2>{t.community.title}</h2>\n            <div className=\"carousel-container\">\n                {cards.map((card: any) => (\n                    <div key={card.hour} className=\"carousel-card\">\n                        <div className=\"card-header\">\n                            {format(new Date().setHours(card.hour), 'HH:00')}\n                        </div>\n\n                        <div className=\"split-card\">\n                            <div className=\"official-section\">\n                                <span className=\"section-label\">{t.community.official}</span>\n                                <card.official.Icon size={24} />\n                                <span>{convertTemp(card.official.temp)}°</span>\n                            </div>\n\n                            <div className=\"divider\"></div>\n\n                            <div className=\"community-section\">\n                                <span className=\"section-label\">{t.community.community}</span>\n                                {card.community.condition ? (\n                                    <card.community.Icon size={24} className=\"community-icon\" />\n                                ) : (\n                                    <span className=\"na\">N/A</span>\n                                )}\n\n                                <div className={`confidence-badge ${card.community.confidenceColor}`}>\n                                    <card.community.ConfidenceIcon size={16} />\n                                    <span>{card.community.confidence}</span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                ))}\n            </div>\n\n            <style jsx>{`\n        .community-carousel {\n          margin-top: 2rem;\n        }\n        .carousel-container {\n          display: flex;\n          gap: 1rem;\n          overflow-x: auto;\n          padding: 1rem 0;\n        }\n        .carousel-card {\n          min-width: 160px;\n          background: var(--background);\n          border: 1px solid rgba(128, 128, 128, 0.2);\n          border-radius: 1rem;\n          overflow: hidden;\n          box-shadow: 0 2px 4px rgba(0,0,0,0.05);\n        }\n        .card-header {\n          background: rgba(128, 128, 128, 0.1);\n          padding: 0.5rem;\n          text-align: center;\n          font-weight: bold;\n        }\n        .split-card {\n          display: flex;\n          flex-direction: column;\n        }\n        .official-section, .community-section {\n          padding: 1rem;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 0.5rem;\n        }\n        .official-section {\n          background: rgba(59, 130, 246, 0.05); /* Light blue tint */\n        }\n        .community-section {\n          background: rgba(168, 85, 247, 0.05); /* Light purple tint */\n        }\n        .section-label {\n          font-size: 0.75rem;\n          text-transform: uppercase;\n          opacity: 0.7;\n        }\n        .divider {\n          height: 1px;\n          background: rgba(128, 128, 128, 0.2);\n        }\n        .community-icon {\n          color: var(--secondary);\n        }\n        .confidence-badge {\n          display: flex;\n          align-items: center;\n          gap: 0.25rem;\n          font-size: 0.75rem;\n          margin-top: 0.5rem;\n        }\n        .na {\n          color: gray;\n          font-style: italic;\n        }\n      `}</style>\n        </div>\n    );\n};\n\nexport default WeatherCommunityCarousel;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 313, "column": 0}, "map": {"version":3,"sources":["file:///Users/cyrilleger/Wise-Weather-App/src/components/WeatherDashboard.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState } from 'react';\nimport { fetchWeather, WeatherData, weatherCodeToIcon } from '../lib/api';\nimport { useLanguage } from '../context/LanguageContext';\nimport { useTemperatureUnit } from '../context/TemperatureUnitContext';\nimport { Sun, Cloud, CloudRain, CloudSnow, CloudLightning, Wind, Droplets, Sunrise, Sunset, Moon, CloudSun, CloudMoon, CloudFog } from 'lucide-react';\nimport { format } from 'date-fns';\nimport WeatherCommunityCarousel from './WeatherCommunityCarousel';\n\nconst IconMap: Record<string, any> = {\n    Sun, Cloud, CloudRain, CloudSnow, CloudLightning, Wind, Droplets, Sunrise, Sunset, Moon, CloudSun, CloudMoon, CloudFog\n};\n\nconst WeatherDashboard = () => {\n    const { t } = useLanguage();\n    const { convertTemp, unit } = useTemperatureUnit();\n    const [weather, setWeather] = useState<WeatherData | null>(null);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState<string | null>(null);\n\n    useEffect(() => {\n        // Default to Paris for now, or get user location\n        navigator.geolocation.getCurrentPosition(\n            async (position) => {\n                try {\n                    const data = await fetchWeather(position.coords.latitude, position.coords.longitude);\n                    setWeather(data);\n                } catch (err) {\n                    setError('Failed to load weather data');\n                } finally {\n                    setLoading(false);\n                }\n            },\n            async (error) => {\n                // Fallback to Paris if permission denied or error\n                try {\n                    const data = await fetchWeather(48.8566, 2.3522);\n                    setWeather(data);\n                } catch (err) {\n                    setError('Failed to load weather data');\n                } finally {\n                    setLoading(false);\n                }\n            }\n        );\n    }, []);\n\n    if (loading) return <div className=\"p-8 text-center\">Loading...</div>;\n    if (error) return <div className=\"p-8 text-center text-red-500\">{error}</div>;\n    if (!weather) return null;\n\n    const CurrentIcon = IconMap[weatherCodeToIcon(weather.current.weatherCode, weather.current.isDay)] || Cloud;\n\n    return (\n        <div className=\"weather-dashboard\">\n            <div className=\"current-weather-card\">\n                <div className=\"main-info\">\n                    <CurrentIcon size={64} className=\"weather-icon\" />\n                    <div className=\"temperature\">\n                        {convertTemp(weather.current.temperature)}°{unit}\n                    </div>\n                    <div className=\"condition\">\n                        {/* Condition text could be mapped from code if needed */}\n                    </div>\n                </div>\n\n                <div className=\"details-grid\">\n                    <div className=\"detail-item\">\n                        <span className=\"label\">{t.dashboard.feels_like}</span>\n                        <span className=\"value\">\n                            {convertTemp(weather.daily.temperatureMax)}° / {convertTemp(weather.daily.temperatureMin)}°\n                        </span>\n                    </div>\n                    <div className=\"detail-item\">\n                        <Wind size={20} />\n                        <span className=\"value\">{weather.current.windSpeed} km/h</span>\n                    </div>\n                    <div className=\"detail-item\">\n                        <Droplets size={20} />\n                        <span className=\"value\">{weather.current.humidity}%</span>\n                    </div>\n                    <div className=\"detail-item\">\n                        <Sunrise size={20} />\n                        <span className=\"value\">{format(new Date(weather.daily.sunrise), 'HH:mm')}</span>\n                    </div>\n                    <div className=\"detail-item\">\n                        <Sunset size={20} />\n                        <span className=\"value\">{format(new Date(weather.daily.sunset), 'HH:mm')}</span>\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"hourly-forecast\">\n                <h3>Hourly Forecast</h3>\n                <div className=\"hourly-scroll\">\n                    {weather.hourly.time.slice(0, 24).map((time, index) => {\n                        const date = new Date(time);\n                        const isDay = date.getHours() > 6 && date.getHours() < 20; // Simplified day check\n                        const iconName = weatherCodeToIcon(weather.hourly.weatherCode[index], isDay);\n                        const Icon = IconMap[iconName] || Cloud;\n\n                        return (\n                            <div key={time} className=\"hourly-item\">\n                                <span className=\"time\">{format(date, 'HH:mm')}</span>\n                                <Icon size={24} />\n                                <span className=\"temp\">{convertTemp(weather.hourly.temperature[index])}°</span>\n                            </div>\n                        );\n                    })}\n                </div>\n            </div>\n\n            <WeatherCommunityCarousel weather={weather} />\n\n            <style jsx>{`\n        .weather-dashboard {\n          padding: 2rem 0;\n        }\n        .current-weather-card {\n          background: linear-gradient(135deg, var(--primary), var(--secondary));\n          border-radius: 1rem;\n          padding: 2rem;\n          color: white;\n          margin-bottom: 2rem;\n          box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n        }\n        .main-info {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          margin-bottom: 2rem;\n        }\n        .temperature {\n          font-size: 4rem;\n          font-weight: bold;\n        }\n        .details-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));\n          gap: 1rem;\n          text-align: center;\n        }\n        .detail-item {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 0.5rem;\n          background: rgba(255, 255, 255, 0.1);\n          padding: 0.5rem;\n          border-radius: 0.5rem;\n        }\n        .hourly-forecast h3 {\n          margin-bottom: 1rem;\n        }\n        .hourly-scroll {\n          display: flex;\n          gap: 1rem;\n          overflow-x: auto;\n          padding-bottom: 1rem;\n        }\n        .hourly-item {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 0.5rem;\n          min-width: 60px;\n          padding: 1rem;\n          background: var(--background);\n          border: 1px solid rgba(128, 128, 128, 0.2);\n          border-radius: 0.5rem;\n        }\n      `}</style>\n        </div>\n    );\n};\n\nexport default WeatherDashboard;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 778, "column": 0}, "map": {"version":3,"sources":["file:///Users/cyrilleger/Wise-Weather-App/src/lib/firebase.ts"],"sourcesContent":["import { initializeApp, getApps } from \"firebase/app\";\nimport { getFirestore } from \"firebase/firestore\";\n\nconst firebaseConfig = {\n    apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n    authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n    projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n    storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n    messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n    appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\n};\n\n// Initialize Firebase\nconst app = getApps().length === 0 ? initializeApp(firebaseConfig) : getApps()[0];\nconst db = getFirestore(app);\n\nexport { db };\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;AAAA;;;AAEA,MAAM,iBAAiB;IACnB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;AACT;AAEA,sBAAsB;AACtB,MAAM,MAAM,IAAA,2KAAO,IAAG,MAAM,KAAK,IAAI,IAAA,iLAAa,EAAC,kBAAkB,IAAA,2KAAO,GAAE,CAAC,EAAE;AACjF,MAAM,KAAK,IAAA,iLAAY,EAAC"}},
    {"offset": {"line": 804, "column": 0}, "map": {"version":3,"sources":["file:///Users/cyrilleger/Wise-Weather-App/src/components/WeatherReportingModal.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from 'react';\nimport { Sun, Cloud, CloudRain, Wind, CloudSnow, CloudLightning, X } from 'lucide-react';\nimport { useLanguage } from '../context/LanguageContext';\nimport { db } from '../lib/firebase';\nimport { collection, addDoc, serverTimestamp } from 'firebase/firestore';\n\ninterface WeatherReportingModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n}\n\nconst WeatherReportingModal = ({ isOpen, onClose }: WeatherReportingModalProps) => {\n    const { t } = useLanguage();\n    const [submitting, setSubmitting] = useState(false);\n    const [canClose, setCanClose] = useState(false);\n    const [selectedConditions, setSelectedConditions] = useState<string[]>([]);\n\n    React.useEffect(() => {\n        if (isOpen) {\n            const timer = setTimeout(() => setCanClose(true), 10000);\n            return () => clearTimeout(timer);\n        } else {\n            setCanClose(false);\n            setSelectedConditions([]);\n        }\n    }, [isOpen]);\n\n    if (!isOpen) return null;\n\n    const conditions = [\n        { id: 'sun', icon: Sun, label: 'Sun' },\n        { id: 'cloud', icon: Cloud, label: 'Cloudy' },\n        { id: 'rain', icon: CloudRain, label: 'Rain' },\n        { id: 'wind', icon: Wind, label: 'Wind' },\n        { id: 'snow', icon: CloudSnow, label: 'Snow' },\n        { id: 'storm', icon: CloudLightning, label: 'Storm' },\n    ];\n\n    const toggleCondition = (conditionId: string) => {\n        setSelectedConditions(prev => {\n            if (prev.includes(conditionId)) {\n                return prev.filter(id => id !== conditionId);\n            } else if (prev.length < 3) {\n                return [...prev, conditionId];\n            }\n            return prev;\n        });\n    };\n\n    const handleSubmit = async () => {\n        if (selectedConditions.length === 0) return;\n\n        setSubmitting(true);\n        try {\n            navigator.geolocation.getCurrentPosition(async (position) => {\n                const { latitude, longitude } = position.coords;\n                const userId = 'temp-user-id';\n\n                await addDoc(collection(db, `users/${userId}/weather_reports`), {\n                    conditions: selectedConditions,\n                    location: { latitude, longitude },\n                    timestamp: serverTimestamp(),\n                });\n\n                onClose();\n            });\n        } catch (error) {\n            console.error(\"Error reporting weather:\", error);\n        } finally {\n            setSubmitting(false);\n        }\n    };\n\n    return (\n        <div className=\"modal-overlay\">\n            <div className=\"modal-content\">\n                {canClose && (\n                    <button className=\"close-btn\" onClick={onClose}><X size={24} /></button>\n                )}\n                <h2>{t.community.share_prompt}</h2>\n                <p className=\"selection-hint\">Select up to 3 weather conditions</p>\n                <div className=\"icons-grid\">\n                    {conditions.map((item) => (\n                        <button\n                            key={item.id}\n                            className={`icon-btn ${selectedConditions.includes(item.id) ? 'selected' : ''}`}\n                            onClick={() => toggleCondition(item.id)}\n                            disabled={submitting}\n                        >\n                            <item.icon size={40} />\n                            <span>{item.label}</span>\n                        </button>\n                    ))}\n                </div>\n\n                <button\n                    className=\"submit-btn\"\n                    onClick={handleSubmit}\n                    disabled={selectedConditions.length === 0 || submitting}\n                >\n                    <span className=\"radiant-text\">\n                        {t.community.share_button} {selectedConditions.length > 0 && `(${selectedConditions.length})`}\n                    </span>\n                </button>\n            </div>\n\n            <style jsx>{`\n        .modal-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(0, 0, 0, 0.5);\n          backdrop-filter: blur(8px);\n          -webkit-backdrop-filter: blur(8px);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 100;\n        }\n        .modal-content {\n          background: white;\n          padding: 2rem;\n          border-radius: 1rem;\n          position: relative;\n          width: 90%;\n          max-width: 400px;\n          text-align: center;\n          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n        }\n        .close-btn {\n          position: absolute;\n          top: 1rem;\n          right: 1rem;\n          background: none;\n          border: none;\n          cursor: pointer;\n          color: var(--foreground);\n        }\n        h2 {\n          margin-bottom: 0.5rem;\n          color: var(--foreground);\n        }\n        .selection-hint {\n          color: #64748b;\n          font-size: 0.875rem;\n          margin-bottom: 1.5rem;\n        }\n        .icons-grid {\n          display: grid;\n          grid-template-columns: repeat(3, 1fr);\n          gap: 1rem;\n          margin-bottom: 2rem;\n        }\n        .icon-btn {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 0.5rem;\n          background: rgba(128, 128, 128, 0.1);\n          border: 2px solid transparent;\n          padding: 1rem;\n          border-radius: 0.5rem;\n          cursor: pointer;\n          transition: all 0.2s;\n          color: var(--foreground);\n        }\n        .icon-btn:hover {\n          background: rgba(128, 128, 128, 0.2);\n        }\n        .icon-btn.selected {\n          background: rgba(59, 130, 246, 0.1);\n          border-color: #3b82f6;\n        }\n        .icon-btn:disabled {\n          opacity: 0.5;\n          cursor: not-allowed;\n        }\n        .submit-btn {\n          width: 100%;\n          padding: 1rem 2rem;\n          border: none;\n          border-radius: 0.5rem;\n          background: linear-gradient(to right, #facc15, #f97316, #ec4899, #8b5cf6, #facc15);\n          background-size: 200% auto;\n          cursor: pointer;\n          font-size: 1rem;\n          font-weight: 600;\n          transition: all 0.3s;\n          animation: gradient-shift 3s linear infinite;\n        }\n        .submit-btn:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);\n        }\n        .submit-btn:disabled {\n          opacity: 0.5;\n          cursor: not-allowed;\n          transform: none;\n        }\n        .submit-btn .radiant-text {\n          color: white;\n          background: none;\n          -webkit-background-clip: unset;\n          background-clip: unset;\n          animation: none;\n        }\n        @keyframes gradient-shift {\n          to {\n            background-position: 200% center;\n          }\n        }\n      `}</style>\n        </div>\n    );\n};\n\nexport default WeatherReportingModal;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1028, "column": 0}, "map": {"version":3,"sources":["file:///Users/cyrilleger/Wise-Weather-App/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from 'react';\nimport WeatherDashboard from \"@/components/WeatherDashboard\";\nimport WeatherReportingModal from \"@/components/WeatherReportingModal\";\n\nexport default function Home() {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  useEffect(() => {\n    // Open modal on first load\n    setIsModalOpen(true);\n  }, []);\n\n  return (\n    <div>\n      <WeatherDashboard />\n      <WeatherReportingModal isOpen={isModalOpen} onClose={() => setIsModalOpen(false)} />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,IAAA,kNAAS,EAAC;QACR,2BAA2B;QAC3B,eAAe;IACjB,GAAG,EAAE;IAEL,qBACE,8OAAC;;0BACC,8OAAC,iJAAgB;;;;;0BACjB,8OAAC,sJAAqB;gBAAC,QAAQ;gBAAa,SAAS,IAAM,eAAe;;;;;;;;;;;;AAGhF"}}]
}