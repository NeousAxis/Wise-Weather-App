{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/cyrilleger/Wise-Weather-App/src/lib/api.ts"],"sourcesContent":["export interface WeatherData {\n    current: {\n        temperature: number;\n        windSpeed: number;\n        humidity: number;\n        weatherCode: number;\n        isDay: boolean;\n        precipitation: number;\n    };\n    daily: {\n        temperatureMax: number;\n        temperatureMin: number;\n        sunrise: string;\n        sunset: string;\n    };\n    hourly: {\n        time: string[];\n        temperature: number[];\n        weatherCode: number[];\n        precipitationProbability: number[];\n    };\n}\n\nexport async function fetchWeather(lat: number, lon: number): Promise<WeatherData> {\n    const params = new URLSearchParams({\n        latitude: lat.toString(),\n        longitude: lon.toString(),\n        current: 'temperature_2m,relative_humidity_2m,is_day,weather_code,wind_speed_10m,precipitation',\n        hourly: 'temperature_2m,weather_code,precipitation_probability',\n        daily: 'temperature_2m_max,temperature_2m_min,sunrise,sunset',\n        timezone: 'auto',\n        forecast_days: '1',\n        models: 'best_match'\n    });\n\n    const response = await fetch(`https://api.open-meteo.com/v1/forecast?${params.toString()}`);\n\n    if (!response.ok) {\n        throw new Error('Failed to fetch weather data');\n    }\n\n    const data = await response.json();\n\n    return {\n        current: {\n            temperature: data.current.temperature_2m,\n            windSpeed: data.current.wind_speed_10m,\n            humidity: data.current.relative_humidity_2m,\n            weatherCode: data.current.weather_code,\n            isDay: data.current.is_day === 1,\n            precipitation: data.current.precipitation,\n        },\n        daily: {\n            temperatureMax: data.daily.temperature_2m_max[0],\n            temperatureMin: data.daily.temperature_2m_min[0],\n            sunrise: data.daily.sunrise[0],\n            sunset: data.daily.sunset[0],\n        },\n        hourly: {\n            time: data.hourly.time,\n            temperature: data.hourly.temperature_2m,\n            weatherCode: data.hourly.weather_code,\n            precipitationProbability: data.hourly.precipitation_probability,\n        },\n    };\n}\n\nexport const weatherCodeToIcon = (code: number, isDay: boolean = true) => {\n    // Simple mapping, can be expanded\n    if (code === 0) return isDay ? 'Sun' : 'Moon';\n    if (code >= 1 && code <= 3) return isDay ? 'CloudSun' : 'CloudMoon';\n    if (code >= 45 && code <= 48) return 'CloudFog';\n    if (code >= 51 && code <= 67) return 'CloudRain';\n    if (code >= 71 && code <= 77) return 'CloudSnow';\n    if (code >= 80 && code <= 82) return 'CloudRain';\n    if (code >= 95 && code <= 99) return 'CloudLightning';\n    return 'Cloud';\n};\n"],"names":[],"mappings":";;;;;;AAuBO,eAAe,aAAa,GAAW,EAAE,GAAW;IACvD,MAAM,SAAS,IAAI,gBAAgB;QAC/B,UAAU,IAAI,QAAQ;QACtB,WAAW,IAAI,QAAQ;QACvB,SAAS;QACT,QAAQ;QACR,OAAO;QACP,UAAU;QACV,eAAe;QACf,QAAQ;IACZ;IAEA,MAAM,WAAW,MAAM,MAAM,CAAC,uCAAuC,EAAE,OAAO,QAAQ,IAAI;IAE1F,IAAI,CAAC,SAAS,EAAE,EAAE;QACd,MAAM,IAAI,MAAM;IACpB;IAEA,MAAM,OAAO,MAAM,SAAS,IAAI;IAEhC,OAAO;QACH,SAAS;YACL,aAAa,KAAK,OAAO,CAAC,cAAc;YACxC,WAAW,KAAK,OAAO,CAAC,cAAc;YACtC,UAAU,KAAK,OAAO,CAAC,oBAAoB;YAC3C,aAAa,KAAK,OAAO,CAAC,YAAY;YACtC,OAAO,KAAK,OAAO,CAAC,MAAM,KAAK;YAC/B,eAAe,KAAK,OAAO,CAAC,aAAa;QAC7C;QACA,OAAO;YACH,gBAAgB,KAAK,KAAK,CAAC,kBAAkB,CAAC,EAAE;YAChD,gBAAgB,KAAK,KAAK,CAAC,kBAAkB,CAAC,EAAE;YAChD,SAAS,KAAK,KAAK,CAAC,OAAO,CAAC,EAAE;YAC9B,QAAQ,KAAK,KAAK,CAAC,MAAM,CAAC,EAAE;QAChC;QACA,QAAQ;YACJ,MAAM,KAAK,MAAM,CAAC,IAAI;YACtB,aAAa,KAAK,MAAM,CAAC,cAAc;YACvC,aAAa,KAAK,MAAM,CAAC,YAAY;YACrC,0BAA0B,KAAK,MAAM,CAAC,yBAAyB;QACnE;IACJ;AACJ;AAEO,MAAM,oBAAoB,CAAC,MAAc,QAAiB,IAAI;IACjE,kCAAkC;IAClC,IAAI,SAAS,GAAG,OAAO,QAAQ,QAAQ;IACvC,IAAI,QAAQ,KAAK,QAAQ,GAAG,OAAO,QAAQ,aAAa;IACxD,IAAI,QAAQ,MAAM,QAAQ,IAAI,OAAO;IACrC,IAAI,QAAQ,MAAM,QAAQ,IAAI,OAAO;IACrC,IAAI,QAAQ,MAAM,QAAQ,IAAI,OAAO;IACrC,IAAI,QAAQ,MAAM,QAAQ,IAAI,OAAO;IACrC,IAAI,QAAQ,MAAM,QAAQ,IAAI,OAAO;IACrC,OAAO;AACX"}},
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":["file:///Users/cyrilleger/Wise-Weather-App/src/components/WeatherCommunityCarousel.tsx"],"sourcesContent":["\"use client\";\n\nimport React from 'react';\nimport { useLanguage } from '../context/LanguageContext';\nimport { useTemperatureUnit } from '../context/TemperatureUnitContext';\nimport { WeatherData, weatherCodeToIcon } from '../lib/api';\nimport { Sun, Cloud, CloudRain, CloudSnow, CloudLightning, Wind, Droplets, Moon, CloudSun, CloudMoon, CloudFog, AlertTriangle, CheckCircle, HelpCircle } from 'lucide-react';\nimport { format, subHours } from 'date-fns';\n\nconst IconMap: Record<string, any> = {\n    Sun, Cloud, CloudRain, CloudSnow, CloudLightning, Wind, Droplets, Moon, CloudSun, CloudMoon, CloudFog\n};\n\ninterface CommunityReport {\n    timestamp: number;\n    condition: string; // e.g., 'Rain', 'Sun'\n    count: number;\n}\n\n// Mock data for community reports\nconst mockReports: Record<string, CommunityReport[]> = {\n    // Keyed by hour timestamp\n};\n\nconst WeatherCommunityCarousel = ({ weather }: { weather: WeatherData }) => {\n    const { t } = useLanguage();\n    const { convertTemp, unit } = useTemperatureUnit();\n\n    // Get last 6 hours\n    const currentHour = new Date().getHours();\n    const pastHours = Array.from({ length: 6 }, (_, i) => currentHour - 5 + i).filter(h => h >= 0);\n\n    // We need to find the index in weather.hourly.time that matches these hours\n    // weather.hourly.time is ISO strings.\n\n    const cards = pastHours.map(hour => {\n        // Find matching index in weather data (assuming weather.hourly.time covers today)\n        // This is a simplification. In real app, match properly by date/time.\n        const index = weather.hourly.time.findIndex(time => new Date(time).getHours() === hour);\n\n        if (index === -1) return null;\n\n        const officialTemp = weather.hourly.temperature[index];\n        const officialCode = weather.hourly.weatherCode[index];\n        const isDay = hour > 6 && hour < 20;\n        const OfficialIcon = IconMap[weatherCodeToIcon(officialCode, isDay)] || Cloud;\n\n        // Mock community data logic\n        // In real app, fetch from Firestore based on time and location\n        const hasReport = Math.random() > 0.3; // 70% chance of report\n        const communityCondition = hasReport ? (Math.random() > 0.5 ? 'Rain' : 'Sun') : null;\n        const CommunityIcon = communityCondition === 'Rain' ? CloudRain : (communityCondition === 'Sun' ? Sun : HelpCircle);\n\n        // Confidence logic\n        const confidence = hasReport ? (Math.random() > 0.5 ? 'High' : 'Low') : 'N/A';\n        const confidenceColor = confidence === 'High' ? 'text-green-500' : (confidence === 'Low' ? 'text-red-500' : 'text-gray-400');\n        const ConfidenceIcon = confidence === 'High' ? CheckCircle : (confidence === 'Low' ? AlertTriangle : HelpCircle);\n\n        return {\n            hour,\n            official: { temp: officialTemp, Icon: OfficialIcon },\n            community: { condition: communityCondition, Icon: CommunityIcon, confidence, confidenceColor, ConfidenceIcon }\n        };\n    }).filter(Boolean);\n\n    return (\n        <div className=\"community-carousel\">\n            <h2>{t.community.title}</h2>\n            <div className=\"carousel-container\">\n                {cards.map((card: any) => (\n                    <div key={card.hour} className=\"carousel-card\">\n                        <div className=\"card-header\">\n                            {format(new Date().setHours(card.hour), 'HH:00')}\n                        </div>\n\n                        <div className=\"split-card\">\n                            <div className=\"official-section\">\n                                <span className=\"section-label\">{t.community.official}</span>\n                                <card.official.Icon size={24} />\n                                <span>{convertTemp(card.official.temp)}°</span>\n                            </div>\n\n                            <div className=\"divider\"></div>\n\n                            <div className=\"community-section\">\n                                <span className=\"section-label\">{t.community.community}</span>\n                                {card.community.condition ? (\n                                    <card.community.Icon size={24} className=\"community-icon\" />\n                                ) : (\n                                    <span className=\"na\">N/A</span>\n                                )}\n\n                                <div className={`confidence-badge ${card.community.confidenceColor}`}>\n                                    <card.community.ConfidenceIcon size={16} />\n                                    <span>{card.community.confidence}</span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                ))}\n            </div>\n\n            <style jsx>{`\n        .community-carousel {\n          margin-top: 2rem;\n        }\n        .carousel-container {\n          display: flex;\n          gap: 1rem;\n          overflow-x: auto;\n          padding: 1rem 0;\n        }\n        .carousel-card {\n          min-width: 160px;\n          background: var(--background);\n          border: 1px solid rgba(128, 128, 128, 0.2);\n          border-radius: 1rem;\n          overflow: hidden;\n          box-shadow: 0 2px 4px rgba(0,0,0,0.05);\n        }\n        .card-header {\n          background: rgba(128, 128, 128, 0.1);\n          padding: 0.5rem;\n          text-align: center;\n          font-weight: bold;\n        }\n        .split-card {\n          display: flex;\n          flex-direction: column;\n        }\n        .official-section, .community-section {\n          padding: 1rem;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 0.5rem;\n        }\n        .official-section {\n          background: rgba(59, 130, 246, 0.05); /* Light blue tint */\n        }\n        .community-section {\n          background: rgba(168, 85, 247, 0.05); /* Light purple tint */\n        }\n        .section-label {\n          font-size: 0.75rem;\n          text-transform: uppercase;\n          opacity: 0.7;\n        }\n        .divider {\n          height: 1px;\n          background: rgba(128, 128, 128, 0.2);\n        }\n        .community-icon {\n          color: var(--secondary);\n        }\n        .confidence-badge {\n          display: flex;\n          align-items: center;\n          gap: 0.25rem;\n          font-size: 0.75rem;\n          margin-top: 0.5rem;\n        }\n        .na {\n          color: gray;\n          font-style: italic;\n        }\n      `}</style>\n        </div>\n    );\n};\n\nexport default WeatherCommunityCarousel;\n"],"names":["c","_c","React","useLanguage","useTemperatureUnit","WeatherData","weatherCodeToIcon","Sun","Cloud","CloudRain","CloudSnow","CloudLightning","Wind","Droplets","Moon","CloudSun","CloudMoon","CloudFog","AlertTriangle","CheckCircle","HelpCircle","format","subHours","IconMap","Record","CommunityReport","timestamp","condition","count","mockReports","WeatherCommunityCarousel","t0","$","$i","Symbol","for","weather","t","convertTemp","t1","Date","getHours","currentHour","t2","t3","t4","t5","community","official","title","pastHours","Array","from","length","_","i","filter","_temp","cards","map","hour","index","hourly","time","findIndex","officialTemp","temperature","officialCode","weatherCode","isDay","OfficialIcon","hasReport","Math","random","communityCondition","CommunityIcon","confidence","confidenceColor","ConfidenceIcon","temp","Icon","Boolean","card","setHours","t6","t7","t8","h"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 397, "column": 0}, "map": {"version":3,"sources":["file:///Users/cyrilleger/Wise-Weather-App/src/components/WeatherDashboard.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState } from 'react';\nimport { fetchWeather, WeatherData, weatherCodeToIcon } from '../lib/api';\nimport { useLanguage } from '../context/LanguageContext';\nimport { useTemperatureUnit } from '../context/TemperatureUnitContext';\nimport { Sun, Cloud, CloudRain, CloudSnow, CloudLightning, Wind, Droplets, Sunrise, Sunset, Moon, CloudSun, CloudMoon, CloudFog } from 'lucide-react';\nimport { format } from 'date-fns';\nimport WeatherCommunityCarousel from './WeatherCommunityCarousel';\n\nconst IconMap: Record<string, any> = {\n    Sun, Cloud, CloudRain, CloudSnow, CloudLightning, Wind, Droplets, Sunrise, Sunset, Moon, CloudSun, CloudMoon, CloudFog\n};\n\nconst WeatherDashboard = () => {\n    const { t } = useLanguage();\n    const { convertTemp, unit } = useTemperatureUnit();\n    const [weather, setWeather] = useState<WeatherData | null>(null);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState<string | null>(null);\n\n    useEffect(() => {\n        // Default to Paris for now, or get user location\n        navigator.geolocation.getCurrentPosition(\n            async (position) => {\n                try {\n                    const data = await fetchWeather(position.coords.latitude, position.coords.longitude);\n                    setWeather(data);\n                } catch (err) {\n                    setError('Failed to load weather data');\n                } finally {\n                    setLoading(false);\n                }\n            },\n            async (error) => {\n                // Fallback to Paris if permission denied or error\n                try {\n                    const data = await fetchWeather(48.8566, 2.3522);\n                    setWeather(data);\n                } catch (err) {\n                    setError('Failed to load weather data');\n                } finally {\n                    setLoading(false);\n                }\n            }\n        );\n    }, []);\n\n    if (loading) return <div className=\"p-8 text-center\">Loading...</div>;\n    if (error) return <div className=\"p-8 text-center text-red-500\">{error}</div>;\n    if (!weather) return null;\n\n    const CurrentIcon = IconMap[weatherCodeToIcon(weather.current.weatherCode, weather.current.isDay)] || Cloud;\n\n    return (\n        <div className=\"weather-dashboard\">\n            <div className=\"current-weather-card\">\n                <div className=\"main-info\">\n                    <CurrentIcon size={64} className=\"weather-icon\" />\n                    <div className=\"temperature\">\n                        {convertTemp(weather.current.temperature)}°{unit}\n                    </div>\n                    <div className=\"condition\">\n                        {/* Condition text could be mapped from code if needed */}\n                    </div>\n                </div>\n\n                <div className=\"details-grid\">\n                    <div className=\"detail-item\">\n                        <span className=\"label\">{t.dashboard.feels_like}</span>\n                        <span className=\"value\">\n                            {convertTemp(weather.daily.temperatureMax)}° / {convertTemp(weather.daily.temperatureMin)}°\n                        </span>\n                    </div>\n                    <div className=\"detail-item\">\n                        <Wind size={20} />\n                        <span className=\"value\">{weather.current.windSpeed} km/h</span>\n                    </div>\n                    <div className=\"detail-item\">\n                        <Droplets size={20} />\n                        <span className=\"value\">{weather.current.humidity}%</span>\n                    </div>\n                    <div className=\"detail-item\">\n                        <Sunrise size={20} />\n                        <span className=\"value\">{format(new Date(weather.daily.sunrise), 'HH:mm')}</span>\n                    </div>\n                    <div className=\"detail-item\">\n                        <Sunset size={20} />\n                        <span className=\"value\">{format(new Date(weather.daily.sunset), 'HH:mm')}</span>\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"hourly-forecast\">\n                <h3>Hourly Forecast</h3>\n                <div className=\"hourly-scroll\">\n                    {weather.hourly.time.slice(0, 24).map((time, index) => {\n                        const date = new Date(time);\n                        const isDay = date.getHours() > 6 && date.getHours() < 20; // Simplified day check\n                        const iconName = weatherCodeToIcon(weather.hourly.weatherCode[index], isDay);\n                        const Icon = IconMap[iconName] || Cloud;\n\n                        return (\n                            <div key={time} className=\"hourly-item\">\n                                <span className=\"time\">{format(date, 'HH:mm')}</span>\n                                <Icon size={24} />\n                                <span className=\"temp\">{convertTemp(weather.hourly.temperature[index])}°</span>\n                            </div>\n                        );\n                    })}\n                </div>\n            </div>\n\n            <WeatherCommunityCarousel weather={weather} />\n\n            <style jsx>{`\n        .weather-dashboard {\n          padding: 2rem 0;\n        }\n        .current-weather-card {\n          background: linear-gradient(135deg, var(--primary), var(--secondary));\n          border-radius: 1rem;\n          padding: 2rem;\n          color: white;\n          margin-bottom: 2rem;\n          box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n        }\n        .main-info {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          margin-bottom: 2rem;\n        }\n        .temperature {\n          font-size: 4rem;\n          font-weight: bold;\n        }\n        .details-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));\n          gap: 1rem;\n          text-align: center;\n        }\n        .detail-item {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 0.5rem;\n          background: rgba(255, 255, 255, 0.1);\n          padding: 0.5rem;\n          border-radius: 0.5rem;\n        }\n        .hourly-forecast h3 {\n          margin-bottom: 1rem;\n        }\n        .hourly-scroll {\n          display: flex;\n          gap: 1rem;\n          overflow-x: auto;\n          padding-bottom: 1rem;\n        }\n        .hourly-item {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 0.5rem;\n          min-width: 60px;\n          padding: 1rem;\n          background: var(--background);\n          border: 1px solid rgba(128, 128, 128, 0.2);\n          border-radius: 0.5rem;\n        }\n      `}</style>\n        </div>\n    );\n};\n\nexport default WeatherDashboard;\n"],"names":["React","useEffect","useState","fetchWeather","WeatherData","weatherCodeToIcon","useLanguage","useTemperatureUnit","Sun","Cloud","CloudRain","CloudSnow","CloudLightning","Wind","Droplets","Sunrise","Sunset","Moon","CloudSun","CloudMoon","CloudFog","format","WeatherCommunityCarousel","IconMap","Record","WeatherDashboard","t","convertTemp","unit","weather","setWeather","loading","setLoading","error","setError","navigator","geolocation","getCurrentPosition","position","data","coords","latitude","longitude","err","CurrentIcon","current","weatherCode","isDay","temperature","dashboard","feels_like","daily","temperatureMax","temperatureMin","windSpeed","humidity","Date","sunrise","sunset","hourly","time","slice","map","index","date","getHours","iconName","Icon"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 792, "column": 0}, "map": {"version":3,"sources":["file:///Users/cyrilleger/Wise-Weather-App/src/lib/firebase.ts"],"sourcesContent":["import { initializeApp, getApps } from \"firebase/app\";\nimport { getFirestore } from \"firebase/firestore\";\n\nconst firebaseConfig = {\n    apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n    authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n    projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n    storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n    messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n    appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\n};\n\n// Initialize Firebase\nconst app = getApps().length === 0 ? initializeApp(firebaseConfig) : getApps()[0];\nconst db = getFirestore(app);\n\nexport { db };\n"],"names":[],"mappings":";;;;AAIY;AAJZ;AAAA;AACA;AAAA;;;AAEA,MAAM,iBAAiB;IACnB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;AACT;AAEA,sBAAsB;AACtB,MAAM,MAAM,IAAA,8KAAO,IAAG,MAAM,KAAK,IAAI,IAAA,oLAAa,EAAC,kBAAkB,IAAA,8KAAO,GAAE,CAAC,EAAE;AACjF,MAAM,KAAK,IAAA,kLAAY,EAAC"}},
    {"offset": {"line": 822, "column": 0}, "map": {"version":3,"sources":["file:///Users/cyrilleger/Wise-Weather-App/src/components/WeatherReportingModal.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from 'react';\nimport { Sun, Cloud, CloudRain, Wind, CloudSnow, CloudLightning, X } from 'lucide-react';\nimport { useLanguage } from '../context/LanguageContext';\nimport { db } from '../lib/firebase';\nimport { collection, addDoc, serverTimestamp } from 'firebase/firestore';\n\ninterface WeatherReportingModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n}\n\nconst WeatherReportingModal = ({ isOpen, onClose }: WeatherReportingModalProps) => {\n    const { t } = useLanguage();\n    const [submitting, setSubmitting] = useState(false);\n    const [canClose, setCanClose] = useState(false);\n    const [selectedConditions, setSelectedConditions] = useState<string[]>([]);\n\n    React.useEffect(() => {\n        if (isOpen) {\n            const timer = setTimeout(() => setCanClose(true), 10000);\n            return () => clearTimeout(timer);\n        } else {\n            setCanClose(false);\n            setSelectedConditions([]);\n        }\n    }, [isOpen]);\n\n    if (!isOpen) return null;\n\n    const conditions = [\n        { id: 'sun', icon: Sun, label: 'Sun' },\n        { id: 'cloud', icon: Cloud, label: 'Cloudy' },\n        { id: 'rain', icon: CloudRain, label: 'Rain' },\n        { id: 'wind', icon: Wind, label: 'Wind' },\n        { id: 'snow', icon: CloudSnow, label: 'Snow' },\n        { id: 'storm', icon: CloudLightning, label: 'Storm' },\n    ];\n\n    const toggleCondition = (conditionId: string) => {\n        setSelectedConditions(prev => {\n            if (prev.includes(conditionId)) {\n                return prev.filter(id => id !== conditionId);\n            } else if (prev.length < 3) {\n                return [...prev, conditionId];\n            }\n            return prev;\n        });\n    };\n\n    const handleSubmit = async () => {\n        if (selectedConditions.length === 0) return;\n\n        setSubmitting(true);\n        try {\n            navigator.geolocation.getCurrentPosition(async (position) => {\n                const { latitude, longitude } = position.coords;\n                const userId = 'temp-user-id';\n\n                await addDoc(collection(db, `users/${userId}/weather_reports`), {\n                    conditions: selectedConditions,\n                    location: { latitude, longitude },\n                    timestamp: serverTimestamp(),\n                });\n\n                onClose();\n            });\n        } catch (error) {\n            console.error(\"Error reporting weather:\", error);\n        } finally {\n            setSubmitting(false);\n        }\n    };\n\n    return (\n        <div className=\"modal-overlay\">\n            <div className=\"modal-content\">\n                {canClose && (\n                    <button className=\"close-btn\" onClick={onClose}><X size={24} /></button>\n                )}\n                <h2>{t.community.share_prompt}</h2>\n                <p className=\"selection-hint\">Select up to 3 weather conditions</p>\n                <div className=\"icons-grid\">\n                    {conditions.map((item) => (\n                        <button\n                            key={item.id}\n                            className={`icon-btn ${selectedConditions.includes(item.id) ? 'selected' : ''}`}\n                            onClick={() => toggleCondition(item.id)}\n                            disabled={submitting}\n                        >\n                            <item.icon size={40} />\n                            <span>{item.label}</span>\n                        </button>\n                    ))}\n                </div>\n\n                <button\n                    className=\"submit-btn\"\n                    onClick={handleSubmit}\n                    disabled={selectedConditions.length === 0 || submitting}\n                >\n                    <span className=\"radiant-text\">\n                        {t.community.share_button} {selectedConditions.length > 0 && `(${selectedConditions.length})`}\n                    </span>\n                </button>\n            </div>\n\n            <style jsx>{`\n        .modal-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(0, 0, 0, 0.5);\n          backdrop-filter: blur(8px);\n          -webkit-backdrop-filter: blur(8px);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 100;\n        }\n        .modal-content {\n          background: white;\n          padding: 2rem;\n          border-radius: 1rem;\n          position: relative;\n          width: 90%;\n          max-width: 400px;\n          text-align: center;\n          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n        }\n        .close-btn {\n          position: absolute;\n          top: 1rem;\n          right: 1rem;\n          background: none;\n          border: none;\n          cursor: pointer;\n          color: var(--foreground);\n        }\n        h2 {\n          margin-bottom: 0.5rem;\n          color: var(--foreground);\n        }\n        .selection-hint {\n          color: #64748b;\n          font-size: 0.875rem;\n          margin-bottom: 1.5rem;\n        }\n        .icons-grid {\n          display: grid;\n          grid-template-columns: repeat(3, 1fr);\n          gap: 1rem;\n          margin-bottom: 2rem;\n        }\n        .icon-btn {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 0.5rem;\n          background: rgba(128, 128, 128, 0.1);\n          border: 2px solid transparent;\n          padding: 1rem;\n          border-radius: 0.5rem;\n          cursor: pointer;\n          transition: all 0.2s;\n          color: var(--foreground);\n        }\n        .icon-btn:hover {\n          background: rgba(128, 128, 128, 0.2);\n        }\n        .icon-btn.selected {\n          background: rgba(59, 130, 246, 0.1);\n          border-color: #3b82f6;\n        }\n        .icon-btn:disabled {\n          opacity: 0.5;\n          cursor: not-allowed;\n        }\n        .submit-btn {\n          width: 100%;\n          padding: 1rem 2rem;\n          border: none;\n          border-radius: 0.5rem;\n          background: linear-gradient(to right, #facc15, #f97316, #ec4899, #8b5cf6, #facc15);\n          background-size: 200% auto;\n          cursor: pointer;\n          font-size: 1rem;\n          font-weight: 600;\n          transition: all 0.3s;\n          animation: gradient-shift 3s linear infinite;\n        }\n        .submit-btn:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);\n        }\n        .submit-btn:disabled {\n          opacity: 0.5;\n          cursor: not-allowed;\n          transform: none;\n        }\n        .submit-btn .radiant-text {\n          color: white;\n          background: none;\n          -webkit-background-clip: unset;\n          background-clip: unset;\n          animation: none;\n        }\n        @keyframes gradient-shift {\n          to {\n            background-position: 200% center;\n          }\n        }\n      `}</style>\n        </div>\n    );\n};\n\nexport default WeatherReportingModal;\n"],"names":["React","useState","Sun","Cloud","CloudRain","Wind","CloudSnow","CloudLightning","X","useLanguage","db","collection","addDoc","serverTimestamp","WeatherReportingModalProps","isOpen","onClose","WeatherReportingModal","t","submitting","setSubmitting","canClose","setCanClose","selectedConditions","setSelectedConditions","useEffect","timer","setTimeout","clearTimeout","conditions","id","icon","label","toggleCondition","conditionId","prev","includes","filter","length","handleSubmit","navigator","geolocation","getCurrentPosition","position","latitude","longitude","coords","userId","location","timestamp","error","console","community","share_prompt","map","item","share_button"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 1065, "column": 0}, "map": {"version":3,"sources":["file:///Users/cyrilleger/Wise-Weather-App/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from 'react';\nimport WeatherDashboard from \"@/components/WeatherDashboard\";\nimport WeatherReportingModal from \"@/components/WeatherReportingModal\";\n\nexport default function Home() {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  useEffect(() => {\n    // Open modal on first load\n    setIsModalOpen(true);\n  }, []);\n\n  return (\n    <div>\n      <WeatherDashboard />\n      <WeatherReportingModal isOpen={isModalOpen} onClose={() => setIsModalOpen(false)} />\n    </div>\n  );\n}\n"],"names":["c","_c","React","useState","useEffect","WeatherDashboard","WeatherReportingModal","Home","$","$i","Symbol","for","isModalOpen","setIsModalOpen","t0","t1","Home[useEffect()]","t2","t3","Home[<WeatherReportingModal>.onClose]","t4"],"mappings":";;;;;AAAa,SAAAA,CAAA,IAAAC,EAAA;AAEb,OAAOC,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,gBAAgB,MAAM,+BAA+B;AAC5D,OAAOC,qBAAqB,MAAM,oCAAoC;;;AAJtE,YAAY;;;;;AAMG;;IAAA,MAAAE,CAAA,OAAAP,gLAAA,EAAA;IAAA,IAAAO,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,GAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IACb,MAAA,CAAAI,WAAA,EAAAC,cAAA,CAAA,OAAsCV,yKAAQ,EAAC,KAAK,CAAC;IAAC,IAAAW,EAAA;IAAA,IAAAC,EAAA;IAAA,IAAAP,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAE5CG,EAAA,GAAA,CAAA;YAAA,qBAAAE,CAAA;gBAERH,cAAc,CAAC,IAAI,CAAC;YAAA;SAAA,CAAA,CAAA,oBACrB;QAAEE,EAAA,GAAA,EAAE;QAAAP,CAAA,CAAA,EAAA,GAAAM,EAAA;QAAAN,CAAA,CAAA,EAAA,GAAAO,EAAA;IAAA,OAAA;QAAAD,EAAA,GAAAN,CAAA,CAAA,EAAA;QAAAO,EAAA,GAAAP,CAAA,CAAA,EAAA;IAAA;QAHLJ,0KAAS,EAACU,EAGT,EAAEC,EAAE,CAAC;IAAA,IAAAE,EAAA;IAAA,IAAAT,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAIFM,EAAA,iBAAA,6LAAC,oJAAgB,GAAG;;;;;QAAAT,CAAA,CAAA,EAAA,GAAAS,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAT,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAU,EAAA;IAAA,IAAAV,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QACiCO,EAAA,GAAA,CAAA;YAAA,yCAAAC,CAAA,GAAMN,cAAc,CAAC,KAAK;SAAC,CAAA,CAAA,wCAAA;QAAAL,CAAA,CAAA,EAAA,GAAAU,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAV,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAY,EAAA;IAAA,IAAAZ,CAAA,CAAA,EAAA,KAAAI,WAAA,EAAA;QAFlFQ,EAAA,iBAAA,6LAAA,GAGM,CAFJ;;gBAAAH,EAAmB;8BACnB,6LAAC,yJAAqB;oBAASL,MAAW,CAAXA,CAAAA,WAAU,CAAC;oBAAW,OAA2B,CAA3B,CAAAM,EAA0B,CAAC,GAClF,EAHA,GAGM;;;;;;;;;;;;QAAAV,CAAA,CAAA,EAAA,GAAAI,WAAA;QAAAJ,CAAA,CAAA,EAAA,GAAAY,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAZ,CAAA,CAAA,EAAA;IAAA;IAAA,OAHNY,EAGM;AAAA;;KAZKb,KAAA","ignoreList":[]}}]
}